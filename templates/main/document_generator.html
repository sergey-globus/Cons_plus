{% extends 'base.html' %}

{% block title %}Генератор документов - Правовой портал{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="hero-section-small text-white rounded p-4 mb-5">
        <h1 class="display-5 text-center">Генератор документов</h1>
        <p class="lead text-center">Создавайте правовые документы по готовым шаблонам</p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h4><i class="fas fa-file-alt"></i> Создание документа</h4>
        </div>
        <div class="card-body">
          <form method="post">
            {% csrf_token %}

            <div class="mb-4">
              <label for="template_select" class="form-label">Выберите шаблон документа *</label>
              <select name="template_id" id="template_select" class="form-select" required onchange="showFields()">
                <option value="">-- Выберите шаблон --</option>
                {% for template in templates %}
                  {% if template.id != 1 %}
                    <option value="{{ template.id }}" {% if template.id == selected_template_id %}selected{% endif %}>
                      {{ template.name }}
                    </option>
                  {% endif %}
                {% endfor %}
              </select>
            </div>




            <!-- ПОЛЯ ДЛЯ ПРЕТЕНЗИЯ 1 (id=2) -->
            <div id="fields_template_2" style="display:none;">

              <!-- Продавец -->
              <div class="mb-3">
                <label for="seller_name_2" class="form-label">Наименование или Ф.И.О. продавца</label>
                <input type="text" name="SELLER_NAME" id="seller_name_2" class="form-control" placeholder="Введите наименование или Ф.И.О. продавца" >
                <small class="form-text text-muted">К кому направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="seller_address_2" class="form-label">Адрес продавца</label>
                <input type="text" name="SELLER_ADDRESS" id="seller_address_2" class="form-control" placeholder="Введите адрес продавца" >
              </div>

              <!-- Покупатель -->
              <div class="mb-3">
                <label for="buyer_name_2" class="form-label">Ф.И.О. покупателя</label>
                <input type="text" name="BUYER_NAME" id="buyer_name_2" class="form-control" placeholder="Введите Ф.И.О. покупателя" >
                <small class="form-text text-muted">От кого направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="buyer_address_2" class="form-label">Адрес покупателя</label>
                <input type="text" name="BUYER_ADDRESS" id="buyer_address_2" class="form-control" placeholder="Введите адрес покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_phone_2" class="form-label">Телефон покупателя</label>
                <input type="text" name="BUYER_PHONE" id="buyer_phone_2" class="form-control" placeholder="Введите телефон покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_email_2" class="form-label">Email покупателя</label>
                <input type="email" name="BUYER_EMAIL" id="buyer_email_2" class="form-control" placeholder="Введите email покупателя" >
              </div>

              <hr>

              <!-- Дата покупки -->
              <div class="row">
                <label class="form-label">Дата покупки</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>

              <div class="mb-3">
                <label for="marketplace_2" class="form-label">Наименование маркетплейса</label>
                <input type="text" name="MARKETPLACE" id="marketplace_2" class="form-control" placeholder="Введите название маркетплейса" >
              </div>

              <div class="mb-3">
                <label for="product_name_2" class="form-label">Наименование товара</label>
                <input type="text" name="PRODUCT_NAME" id="product_name_2" class="form-control" placeholder="Введите название товара" >
              </div>

              <div class="mb-3">
                <label for="product_price_2" class="form-label">Стоимость товара</label>
                <input type="text" name="PRODUCT_PRICE" id="product_price_2" class="form-control" placeholder="Введите стоимость товара" >
              </div>

              <div class="mb-3">
                <label for="payment_proof_2" class="form-label">Документ, подтверждающий оплату</label>
                <input type="text" name="PAYMENT_PROOF" id="payment_proof_2" class="form-control" placeholder="Укажите подтверждающий документ" >
              </div>

              <div class="row">
                <label class="form-label">Дата доставки</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DELIVERY_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DELIVERY_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DELIVERY_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>

              <hr>

              <div class="mb-3">
                <label for="defect_detection_period_2" class="form-label">Срок обнаружения недостатка (со дня покупки)</label>
                <input type="text" name="DEFECT_DETECTION_PERIOD" id="defect_detection_period_2" class="form-control" placeholder="Укажите срок" >
              </div>

              <div class="mb-3">
                <label for="defect_description_2" class="form-label">Описание недостатка</label>
                <textarea name="DEFECT_DESCRIPTION" id="defect_description_2" class="form-control" rows="3" placeholder="Опишите недостаток" ></textarea>
              </div>

              <div class="mb-3">
                <label for="warranty_period_2" class="form-label">Гарантийный срок</label>
                <input type="text" name="WARRANTY_PERIOD" id="warranty_period_2" class="form-control" placeholder="Укажите срок" >
              </div>

              <div class="mb-3">
                <label for="claim_requirements_2" class="form-label">Ваши требования</label>
                <textarea name="CLAIM_REQUIREMENTS" id="claim_requirements_2" class="form-control" rows="3" placeholder="Укажите соответствующее требование"></textarea>
              </div>

              <hr>

              <!-- Текущая дата -->
              <div class="row">
                <label class="form-label">Текущая дата</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>
            </div>


            <!-- ПОЛЯ ДЛЯ ПРЕТЕНЗИЯ 2 (id=3) -->
            <div id="fields_template_3" style="display:none;">

              <!-- Продавец -->
              <div class="mb-3">
                <label for="seller_name_3" class="form-label">Наименование или Ф.И.О. продавца</label>
                <input type="text" name="SELLER_NAME" id="seller_name_3" class="form-control" placeholder="Введите наименование или Ф.И.О. продавца" >
                <small class="form-text text-muted">К кому направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="seller_address_3" class="form-label">Адрес продавца</label>
                <input type="text" name="SELLER_ADDRESS" id="seller_address_3" class="form-control" placeholder="Введите адрес продавца" >
              </div>

              <!-- Покупатель -->
              <div class="mb-3">
                <label for="buyer_name_3" class="form-label">Ф.И.О. покупателя</label>
                <input type="text" name="BUYER_NAME" id="buyer_name_3" class="form-control" placeholder="Введите Ф.И.О. покупателя" >
                <small class="form-text text-muted">От кого направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="buyer_address_3" class="form-label">Адрес покупателя</label>
                <input type="text" name="BUYER_ADDRESS" id="buyer_address_3" class="form-control" placeholder="Введите адрес покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_phone_3" class="form-label">Телефон покупателя</label>
                <input type="text" name="BUYER_PHONE" id="buyer_phone_3" class="form-control" placeholder="Введите телефон покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_email_3" class="form-label">Email покупателя</label>
                <input type="email" name="BUYER_EMAIL" id="buyer_email_3" class="form-control" placeholder="Введите email покупателя" >
              </div>

              <hr>

              <!-- Дата покупки -->
              <div class="row">
                <label class="form-label">Дата покупки</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="PURCHASE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>

              <div class="mb-3">
                <label for="marketplace_3" class="form-label">Наименование маркетплейса</label>
                <input type="text" name="MARKETPLACE" id="marketplace_3" class="form-control" placeholder="Введите название маркетплейса" >
              </div>

              <div class="mb-3">
                <label for="product_name_3" class="form-label">Наименование товара</label>
                <input type="text" name="PRODUCT_NAME" id="product_name_3" class="form-control" placeholder="Введите наименование товара" >
              </div>

              <div class="mb-3">
                <label for="product_price_3" class="form-label">Стоимость товара</label>
                <input type="text" name="PRODUCT_PRICE" id="product_price_3" class="form-control" placeholder="Введите стоимость товара" >
              </div>

              <div class="mb-3">
                <label for="payment_proof_3" class="form-label">Документ, подтверждающий оплату</label>
                <input type="text" name="PAYMENT_PROOF" id="payment_proof_3" class="form-control" placeholder="Укажите подтверждающий документ" >
              </div>

              <hr>

              <!-- Дата односторонней отмены -->
              <div class="row">
                <label class="form-label">Дата односторонней отмены заказа</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CANCEL_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CANCEL_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CANCEL_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>

              <div class="mb-3">
                <label for="additional_circumstances_3" class="form-label">Дополнительные обстоятельства</label>
                <textarea name="ADDITIONAL_CIRCUMSTANCES" id="additional_circumstances_3" class="form-control" rows="3" placeholder="Укажите дополнительные обстоятельства (при необходимости)"></textarea>
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_requirements_3" class="form-label">Ваши требования</label>
                <textarea name="CLAIM_REQUIREMENTS" id="claim_requirements_3" class="form-control" rows="3" placeholder="Укажите соответствующее требование"></textarea>
              </div>

              <hr>

              <!-- Текущая дата -->
              <div class="row">
                <label class="form-label">Текущая дата</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>
            </div>

            <!-- ПОЛЯ ДЛЯ ПРЕТЕНЗИЯ 3 (id=4) -->
            <div id="fields_template_4" style="display:none;">

              <!-- Продавец -->
              <div class="mb-3">
                <label for="seller_name_4" class="form-label">Наименование или Ф.И.О. продавца (владельца агрегатора)</label>
                <input type="text" name="SELLER_NAME" id="seller_name_4" class="form-control" placeholder="Введите наименование или Ф.И.О. продавца" >
                <small class="form-text text-muted">К кому направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="seller_address_4" class="form-label">Адрес продавца</label>
                <input type="text" name="SELLER_ADDRESS" id="seller_address_4" class="form-control" placeholder="Введите адрес продавца" >
              </div>

              <!-- Покупатель -->
              <div class="mb-3">
                <label for="buyer_name_4" class="form-label">Ф.И.О. покупателя</label>
                <input type="text" name="BUYER_NAME" id="buyer_name_4" class="form-control" placeholder="Введите Ф.И.О. покупателя" >
                <small class="form-text text-muted">От кого направляется претензия</small>
              </div>

              <div class="mb-3">
                <label for="buyer_address_4" class="form-label">Адрес покупателя</label>
                <input type="text" name="BUYER_ADDRESS" id="buyer_address_4" class="form-control" placeholder="Введите адрес покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_phone_4" class="form-label">Телефон покупателя</label>
                <input type="text" name="BUYER_PHONE" id="buyer_phone_4" class="form-control" placeholder="Введите телефон покупателя" >
              </div>

              <div class="mb-3">
                <label for="buyer_email_4" class="form-label">Email покупателя</label>
                <input type="email" name="BUYER_EMAIL" id="buyer_email_4" class="form-control" placeholder="Введите email покупателя" >
              </div>

              <hr>

              <div class="mb-3">
                <label for="product_name_4" class="form-label">Наименование товара</label>
                <input type="text" name="PRODUCT_NAME" id="product_name_4" class="form-control" placeholder="Введите наименование товара" >
              </div>

              <div class="mb-3">
                <label for="circumstances_4" class="form-label">Обстоятельства, обосновывающие требования</label>
                <textarea name="CIRCUMSTANCES" id="circumstances_4" class="form-control" rows="5" placeholder="Опишите все обстоятельства"></textarea>
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_requirements_4" class="form-label">Ваши требования</label>
                <textarea name="CLAIM_REQUIREMENTS" id="claim_requirements_4" class="form-control" rows="3" placeholder="Укажите соответствующее требование"></textarea>
              </div>

              <hr>

              <!-- Текущая дата -->
              <div class="row">
                <label class="form-label">Текущая дата</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_DAY" min="1" max="31" class="form-control" placeholder="ДД" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_MONTH" min="1" max="12" class="form-control" placeholder="ММ" >
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="CURRENT_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ" >
                </div>
              </div>
            </div>

            <!-- ПОЛЯ ДЛЯ Возврат товара надлежащего качества (id=5) -->
            <div id="fields_template_5" style="display:none;">

              <div class="mb-3">
                <label for="court_name_5" class="form-label">Наименование суда</label>
                <input type="text" name="COURT_NAME" id="court_name_5" class="form-control" placeholder="Введите наименование суда">
              </div>

              <hr>

              <!-- Истец -->
              <div class="mb-3">
                <label for="plaintiff_name_5" class="form-label">Ф.И.О. истца</label>
                <input type="text" name="PLAINTIFF_NAME" id="plaintiff_name_5" class="form-control" placeholder="Введите Ф.И.О. истца">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_date_5" class="form-label">Дата рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_DATE" id="plaintiff_birth_date_5" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_place_5" class="form-label">Место рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_PLACE" id="plaintiff_birth_place_5" class="form-control" placeholder="Введите место рождения истца">
                </div>
              </div>

              <div class="mb-3">
                <label for="plaintiff_address_5" class="form-label">Адрес истца</label>
                <input type="text" name="PLAINTIFF_ADDRESS" id="plaintiff_address_5" class="form-control" placeholder="Введите адрес истца">
              </div>

              <div class="mb-3">
                <label for="plaintiff_passport_info_5" class="form-label">Паспортные данные истца</label>
                <input type="text" name="PLAINTIFF_PASSPORT_INFO" id="plaintiff_passport_info_5" class="form-control" placeholder="Введите паспортные данные">
              </div>

              <hr>

              <!-- Ответчик -->
              <div class="mb-3">
                <label for="defendant_name_5" class="form-label">Ф.И.О. или наименование ответчика</label>
                <input type="text" name="DEFENDANT_NAME" id="defendant_name_5" class="form-control" placeholder="Введите Ф.И.О. или наименование">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_date_5" class="form-label">Дата рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_DATE" id="defendant_birth_date_5" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_place_5" class="form-label">Место рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_PLACE" id="defendant_birth_place_5" class="form-control" placeholder="Введите место рождения ответчика">
                </div>
              </div>

              <div class="mb-3">
                <label for="defendant_address_5" class="form-label">Адрес ответчика</label>
                <input type="text" name="DEFENDANT_ADDRESS" id="defendant_address_5" class="form-control" placeholder="Введите адрес ответчика">
              </div>

              <div class="mb-3">
                <label for="defendant_passport_info_5" class="form-label">Паспортные данные / ИНН / рег. номер ответчика (если известно)</label>
                <input type="text" name="DEFENDANT_PASSPORT_INFO" id="defendant_passport_info_5" class="form-control" placeholder="Введите данные ответчика">
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_amount_5" class="form-label">Цена иска (сумма цифрами)</label>
                <input type="text" name="CLAIM_AMOUNT" id="claim_amount_5" class="form-control" placeholder="Введите сумму иска">
              </div>

              <hr>

              <div class="mb-3">
                <label for="situation_description_5" class="form-label">Описание ситуации</label>
                <textarea name="SITUATION_DESCRIPTION" id="situation_description_5" class="form-control" rows="5" placeholder="Опишите ситуацию"></textarea>
              </div>

              <div class="mb-3">
                <label for="claim_demands_5" class="form-label">Требования истца</label>
                <textarea name="CLAIM_DEMANDS" id="claim_demands_5" class="form-control" rows="4" placeholder="Укажите ваши требования"></textarea>
              </div>

              <hr>

              <div class="row">
                <label class="form-label">Дата подачи иска</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_DAY" min="1" max="31" class="form-control" placeholder="ДД">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_MONTH" min="1" max="12" class="form-control" placeholder="ММ">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ">
                </div>
              </div>
            </div> <!-- /fields_template_5 -->


            <!-- ПОЛЯ ДЛЯ Иск (возврат товара ненадлежащего качества) (id=6) -->
            <div id="fields_template_6" style="display:none;">

              <div class="mb-3">
                <label for="court_name_6" class="form-label">Наименование суда</label>
                <input type="text" name="COURT_NAME" id="court_name_6" class="form-control" placeholder="Введите наименование суда">
              </div>

              <hr>

              <!-- Истец -->
              <div class="mb-3">
                <label for="plaintiff_name_6" class="form-label">Ф.И.О. истца</label>
                <input type="text" name="PLAINTIFF_NAME" id="plaintiff_name_6" class="form-control" placeholder="Введите Ф.И.О. истца">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_date_6" class="form-label">Дата рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_DATE" id="plaintiff_birth_date_6" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_place_6" class="form-label">Место рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_PLACE" id="plaintiff_birth_place_6" class="form-control" placeholder="Введите место рождения истца">
                </div>
              </div>

              <div class="mb-3">
                <label for="plaintiff_address_6" class="form-label">Адрес истца</label>
                <input type="text" name="PLAINTIFF_ADDRESS" id="plaintiff_address_6" class="form-control" placeholder="Введите адрес истца">
              </div>

              <div class="mb-3">
                <label for="plaintiff_passport_info_6" class="form-label">Паспортные данные истца</label>
                <input type="text" name="PLAINTIFF_PASSPORT_INFO" id="plaintiff_passport_info_6" class="form-control" placeholder="Введите паспортные данные">
              </div>

              <hr>

              <!-- Ответчик -->
              <div class="mb-3">
                <label for="defendant_name_6" class="form-label">Ф.И.О. или наименование ответчика</label>
                <input type="text" name="DEFENDANT_NAME" id="defendant_name_6" class="form-control" placeholder="Введите Ф.И.О. или наименование">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_date_6" class="form-label">Дата рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_DATE" id="defendant_birth_date_6" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_place_6" class="form-label">Место рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_PLACE" id="defendant_birth_place_6" class="form-control" placeholder="Введите место рождения ответчика">
                </div>
              </div>

              <div class="mb-3">
                <label for="defendant_address_6" class="form-label">Адрес ответчика</label>
                <input type="text" name="DEFENDANT_ADDRESS" id="defendant_address_6" class="form-control" placeholder="Введите адрес ответчика">
              </div>

              <div class="mb-3">
                <label for="defendant_passport_info_6" class="form-label">Паспортные данные / ИНН / рег. номер ответчика (если известно)</label>
                <input type="text" name="DEFENDANT_PASSPORT_INFO" id="defendant_passport_info_6" class="form-control" placeholder="Введите данные ответчика">
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_amount_6" class="form-label">Цена иска (сумма цифрами)</label>
                <input type="text" name="CLAIM_AMOUNT" id="claim_amount_6" class="form-control" placeholder="Введите сумму иска">
              </div>

              <hr>

              <div class="mb-3">
                <label for="situation_description_6" class="form-label">Описание ситуации</label>
                <textarea name="SITUATION_DESCRIPTION" id="situation_description_6" class="form-control" rows="5" placeholder="Опишите ситуацию"></textarea>
              </div>

              <div class="mb-3">
                <label for="claim_demands_6" class="form-label">Требования истца</label>
                <textarea name="CLAIM_DEMANDS" id="claim_demands_6" class="form-control" rows="4" placeholder="Укажите ваши требования"></textarea>
              </div>

              <hr>

              <div class="row">
                <label class="form-label">Дата подачи иска</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_DAY" min="1" max="31" class="form-control" placeholder="ДД">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_MONTH" min="1" max="12" class="form-control" placeholder="ММ">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ">
                </div>
              </div>
            </div> <!-- /fields_template_6 -->

            <!-- ПОЛЯ ДЛЯ Иск (недостоверная информация о товаре) (id=7) -->
            <div id="fields_template_7" style="display:none;">

              <div class="mb-3">
                <label for="court_name_7" class="form-label">Наименование суда</label>
                <input type="text" name="COURT_NAME" id="court_name_7" class="form-control" placeholder="Введите наименование суда">
              </div>

              <hr>

              <!-- Истец -->
              <div class="mb-3">
                <label for="plaintiff_name_7" class="form-label">Ф.И.О. истца</label>
                <input type="text" name="PLAINTIFF_NAME" id="plaintiff_name_7" class="form-control" placeholder="Введите Ф.И.О. истца">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_date_7" class="form-label">Дата рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_DATE" id="plaintiff_birth_date_7" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_place_7" class="form-label">Место рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_PLACE" id="plaintiff_birth_place_7" class="form-control" placeholder="Введите место рождения истца">
                </div>
              </div>

              <div class="mb-3">
                <label for="plaintiff_address_7" class="form-label">Адрес истца</label>
                <input type="text" name="PLAINTIFF_ADDRESS" id="plaintiff_address_7" class="form-control" placeholder="Введите адрес истца">
              </div>

              <div class="mb-3">
                <label for="plaintiff_passport_info_7" class="form-label">Паспортные данные истца</label>
                <input type="text" name="PLAINTIFF_PASSPORT_INFO" id="plaintiff_passport_info_7" class="form-control" placeholder="Введите паспортные данные">
              </div>

              <hr>

              <!-- Ответчик -->
              <div class="mb-3">
                <label for="defendant_name_7" class="form-label">Ф.И.О. или наименование ответчика</label>
                <input type="text" name="DEFENDANT_NAME" id="defendant_name_7" class="form-control" placeholder="Введите Ф.И.О. или наименование">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_date_7" class="form-label">Дата рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_DATE" id="defendant_birth_date_7" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_place_7" class="form-label">Место рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_PLACE" id="defendant_birth_place_7" class="form-control" placeholder="Введите место рождения ответчика">
                </div>
              </div>

              <div class="mb-3">
                <label for="defendant_address_7" class="form-label">Адрес ответчика</label>
                <input type="text" name="DEFENDANT_ADDRESS" id="defendant_address_7" class="form-control" placeholder="Введите адрес ответчика">
              </div>

              <div class="mb-3">
                <label for="defendant_passport_info_7" class="form-label">Паспортные данные / ИНН / рег. номер ответчика (если известно)</label>
                <input type="text" name="DEFENDANT_PASSPORT_INFO" id="defendant_passport_info_7" class="form-control" placeholder="Введите данные ответчика">
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_amount_7" class="form-label">Цена иска (сумма цифрами)</label>
                <input type="text" name="CLAIM_AMOUNT" id="claim_amount_7" class="form-control" placeholder="Введите сумму иска">
              </div>

              <hr>

              <div class="mb-3">
                <label for="situation_description_7" class="form-label">Описание ситуации</label>
                <textarea name="SITUATION_DESCRIPTION" id="situation_description_7" class="form-control" rows="5" placeholder="Опишите ситуацию"></textarea>
              </div>

              <div class="mb-3">
                <label for="claim_demands_7" class="form-label">Требования истца</label>
                <textarea name="CLAIM_DEMANDS" id="claim_demands_7" class="form-control" rows="4" placeholder="Укажите ваши требования"></textarea>
              </div>

              <hr>

              <div class="row">
                <label class="form-label">Дата подачи иска</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_DAY" min="1" max="31" class="form-control" placeholder="ДД">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_MONTH" min="1" max="12" class="form-control" placeholder="ММ">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ">
                </div>
              </div>
            </div> <!-- /fields_template_7 -->

            <!-- ПОЛЯ ДЛЯ Отмена заказа продавцом (id=8) -->
            <div id="fields_template_8" style="display:none;">

              <div class="mb-3">
                <label for="court_name_8" class="form-label">Наименование суда</label>
                <input type="text" name="COURT_NAME" id="court_name_8" class="form-control" placeholder="Введите наименование суда">
              </div>

              <hr>

              <!-- Истец -->
              <div class="mb-3">
                <label for="plaintiff_name_8" class="form-label">Ф.И.О. истца</label>
                <input type="text" name="PLAINTIFF_NAME" id="plaintiff_name_8" class="form-control" placeholder="Введите Ф.И.О. истца">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_date_8" class="form-label">Дата рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_DATE" id="plaintiff_birth_date_8" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="plaintiff_birth_place_8" class="form-label">Место рождения истца</label>
                  <input type="text" name="PLAINTIFF_BIRTH_PLACE" id="plaintiff_birth_place_8" class="form-control" placeholder="Введите место рождения истца">
                </div>
              </div>

              <div class="mb-3">
                <label for="plaintiff_address_8" class="form-label">Адрес истца</label>
                <input type="text" name="PLAINTIFF_ADDRESS" id="plaintiff_address_8" class="form-control" placeholder="Введите адрес истца">
              </div>

              <div class="mb-3">
                <label for="plaintiff_passport_info_8" class="form-label">Паспортные данные истца</label>
                <input type="text" name="PLAINTIFF_PASSPORT_INFO" id="plaintiff_passport_info_8" class="form-control" placeholder="Введите паспортные данные">
              </div>

              <hr>

              <!-- Ответчик -->
              <div class="mb-3">
                <label for="defendant_name_8" class="form-label">Ф.И.О. или наименование ответчика</label>
                <input type="text" name="DEFENDANT_NAME" id="defendant_name_8" class="form-control" placeholder="Введите Ф.И.О. или наименование">
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_date_8" class="form-label">Дата рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_DATE" id="defendant_birth_date_8" class="form-control" placeholder="ДД.ММ.ГГГГ">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="defendant_birth_place_8" class="form-label">Место рождения ответчика (если известно)</label>
                  <input type="text" name="DEFENDANT_BIRTH_PLACE" id="defendant_birth_place_8" class="form-control" placeholder="Введите место рождения ответчика">
                </div>
              </div>

              <div class="mb-3">
                <label for="defendant_address_8" class="form-label">Адрес ответчика</label>
                <input type="text" name="DEFENDANT_ADDRESS" id="defendant_address_8" class="form-control" placeholder="Введите адрес ответчика">
              </div>

              <div class="mb-3">
                <label for="defendant_passport_info_8" class="form-label">Паспортные данные / ИНН / рег. номер ответчика (если известно)</label>
                <input type="text" name="DEFENDANT_PASSPORT_INFO" id="defendant_passport_info_8" class="form-control" placeholder="Введите данные ответчика">
              </div>

              <hr>

              <div class="mb-3">
                <label for="claim_amount_8" class="form-label">Цена иска (сумма цифрами)</label>
                <input type="text" name="CLAIM_AMOUNT" id="claim_amount_8" class="form-control" placeholder="Введите сумму иска">
              </div>

              <hr>

              <!-- Дата односторонней отмены заказа -->
              <div class="row">
                <label class="form-label">Дата односторонней отмены заказа</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="ORDER_CANCEL_DATE_DAY" min="1" max="31" class="form-control" placeholder="ДД">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="ORDER_CANCEL_DATE_MONTH" min="1" max="12" class="form-control" placeholder="ММ">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="ORDER_CANCEL_DATE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ">
                </div>
              </div>

              <div class="mb-3">
                <label for="additional_circumstances_8" class="form-label">Дополнительные обстоятельства</label>
                <textarea name="ADDITIONAL_CIRCUMSTANCES" id="additional_circumstances_8" class="form-control" rows="3" placeholder="Укажите дополнительные обстоятельства (при необходимости)"></textarea>
              </div>

              <hr>

              <div class="mb-3">
                <label for="situation_description_8" class="form-label">Описание ситуации</label>
                <textarea name="SITUATION_DESCRIPTION" id="situation_description_8" class="form-control" rows="5" placeholder="Опишите ситуацию"></textarea>
              </div>

              <div class="mb-3">
                <label for="claim_demands_8" class="form-label">Требования истца</label>
                <textarea name="CLAIM_DEMANDS" id="claim_demands_8" class="form-control" rows="4" placeholder="Укажите ваши требования"></textarea>
              </div>

              <hr>

              <div class="row">
                <label class="form-label">Дата подачи иска</label>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_DAY" min="1" max="31" class="form-control" placeholder="ДД">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_MONTH" min="1" max="12" class="form-control" placeholder="ММ">
                </div>
                <div class="col-md-4 mb-3">
                  <input type="number" name="DATE_YEAR" min="1900" max="2100" class="form-control" placeholder="ГГГГ">
                </div>
              </div>
            </div> <!-- /fields_template_8 -->



            <div class="d-grid mt-4">
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-file-download"></i> Создать документ
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>


    <div class="col-md-4">

      <!-- Первый вспомогательный блок (статья) -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <div class="article-icon me-2 fs-4 text-secondary">
              <i class="fas fa-clock"></i>
            </div>
            <h5 class="card-title m-0">Когда стоит направлять претензию</h5>
          </div>
          <a href="{% url 'art2' %}" class="btn btn-warning btn-block">Читать статью</a>
        </div>
      </div>

      <!-- Второй вспомогательный блок (статья) -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <div class="article-icon me-2 fs-4 text-secondary">
              <i class="fas fa-file-alt"></i>
            </div>
            <h5 class="card-title m-0">Как составить исковое заявление</h5>
          </div>
          <a href="{% url 'art3' %}" class="btn btn-warning btn-block">Читать статью</a>
        </div>
      </div>

      <div class="card mb-4"> <!-- Доступные шаблоны -->
        <div class="card-header bg-info text-white">
          <h5><i class="fas fa-info-circle"></i> Доступные шаблоны</h5>
        </div>
        <div class="card-body scrollable-card-body" style="max-height: 400px; overflow-y: auto;">
          {% if templates %}
            {% for template in templates %}
              <div class="card mb-3 shadow-sm"> <!-- Добавлены тени и небольшой отступ -->
                <div class="card-body">
                  <h6 class="card-title text-muted">{{ template.name }}</h6>
                  <div class="mt-2">
                    <a href="{% url 'preview_template' template.id %}" class="btn btn-sm btn-outline-primary">
                      <i class="fas fa-eye"></i> Предпросмотр
                    </a>
                  </div>
                </div>
              </div>
            {% endfor %}
          {% else %}
            <div class="alert alert-warning">Шаблоны не найдены.</div>
          {% endif %}
        </div>
      </div>

      <!-- Блок "Нужна помощь?" -->
      <div class="card shadow-sm">
        <div class="card-header bg-warning text-white">
          <h5><i class="fas fa-question-circle"></i> Нужна помощь?</h5>
        </div>
        <div class="card-body">
          <p class="card-text">Возникли вопросы при создании документа? Обратитесь к нашим специалистам.</p>
          <a href="{% url 'consultation' %}" class="btn btn-warning btn-block">Получить консультацию</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function showFields() {
  const select = document.getElementById('template_select');
  const templateId = select.value.trim();

  document.querySelectorAll('[id^="fields_template_"]').forEach(block => {
    block.style.display = 'none';
  });

  if (templateId) {
    const activeBlock = document.getElementById('fields_template_' + templateId);
    if (activeBlock) {
      activeBlock.style.display = 'block';
    }
  }
}

document.addEventListener('DOMContentLoaded', () => {
  showFields();
});
</script>

<style>
.scrollable-card-body {
  max-height: 400px;
  overflow-y: auto;
}

p {
  margin: 0 0 10px 0;
  text-align: justify;
}

h1, h2, h3, h4, h5, h6 {
  margin-top: 1em;
  margin-bottom: 0.5em;
  font-weight: bold;
}

ul, ol {
  margin-left: 25px;
  margin-bottom: 10px;
}

table {
  border-collapse: collapse;
  margin-bottom: 15px;
  width: 100%;
}

table, th, td {
  border: 1px solid black;
  padding: 5px;
  vertical-align: top;
}


.form-control, .form-select {
  border: 1px solid #ced4da;
  border-radius: 6px;
  padding: 10px 12px;
  font-size: 1rem;
}
.form-label {
  font-weight: 500;
  color: var(--text-color);
  margin-bottom: 8px;
}
.card {
  border-radius: 10px;
}
.card-header {
  border-radius: 10px 10px 0 0;
}
.template-info:hover {
  background: #e9ecef !important;
  transform: translateY(-2px);
}
.template-info .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

</style>
{% endblock %}
